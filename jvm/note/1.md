- 如何学习一门技术？
  要有输入，也要有输出(记笔记，讲给别人听，在工作中应用)
  
- JVM 的学习将是一个枯燥的过程

- 国内JVM大神: R大(RednaxelaFX)  https://www.zhihu.com/people/rednaxelafx/posts

# 类加载
JVM中，类型(class, interface, annotation, enum)的加载、连接和初始化都是在运行期间完成的。
类加载器：加载类的工具

## 加载
查找并加载类的二进制数据，加载到内存

类的加载是将.class文件中的二进制数据加载到内存中，将其放在运行时数据区的方法区内，然后在内存中创建一个java.util.Class对象
(规范并未说明Class对象位于哪里，HotSpot虚拟机将其放在了方法区)，用来封装类在方法区内的数据结构。

## 连接
- 验证: 确保被加载的类的正确性，class文件格式正确
- 准备: 为类的`静态变量`分配内存，并将其初始化为`默认值`。还没有实例化类实例，所以是`静态变量`。
- 解析: 把类中的符号引用替换为直接引用

## 初始化
为类的静态变量赋予正确的`初始值`

## 使用

## 卸载
从内存剔除（OSGi）

# 类的使用方式
- 主动使用
  - 创建类的实例
  - 访问类的静态方法(invokestatic)或静态字段(getstatic, putstatic)
  - 反射
  - 初始化一个类的子类
  - 启动类, main 方法
  - JDK1.7开始提供动态语言支持：java.lang.invoke.MethodHandle实例的解析结果REF_getStatic, REF_getStatic, REF_invokeStatic句柄对应的类没有初始化，则初始化
  
- 被动使用
  - 除了以上的主动使用，其他方式都是被动使用。比如？
  
对类的`初始化`，发生在对类的`首次主动使用`，被动使用不会初始化类，但是有可能会加载或连接。

例子：
[lab1](../src/jvm/lab1) 
[lab2](../src/jvm/lab2)
[lab3](../src/jvm/lab3)
 
# 加载.class文件的方式
- 从本地文件系统中直接加载
- 通过网络下载.class文件
- 从 zip，jar等归档文件中加载.class文件
- 从专有数据库中提取.class文件
- 将java源文件动态编译为.class文件

# 助记符
- bipush 表示将 [-128, 127] 范围(byte)的常量值推送至栈顶 (除了 -1, 0, 1, 2, 3, 4, 5)
- sipush 表示将 [-32768, 32767] 范围(short)的常量值推送至栈顶
- ldc 表示将 int、float或String类型的常量值从常量池中推送至栈顶
- iconst_1 表示将整型 1 推送至栈顶 (-1, 0, 1, 2, 3, 4, 5), -1: iconst_m1
